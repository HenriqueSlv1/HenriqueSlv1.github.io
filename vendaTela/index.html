<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@500&family=Nunito:ital,wght@0,400;1,200&family=Open+Sans:wght@300;600&family=Poppins:wght@300&family=Raleway:ital,wght@0,300;1,200&family=Roboto:ital,wght@0,300;0,400;0,500;1,700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="./venda.css">
    <title>Venda</title>
</head>

<body>
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="fecharButton"> <span class="fechar" onclick="fecharModal()">&times;</span></div>
            <div class="container-modal">
                <div class="headerModal">
                    <div class="grid">
                        <label for="">Cliente</label>
                        <input type="text" placeholder="Consumidor">
                        <label for="">Vendedor</label>
                        <select name="" id="">
                            <option value="">VENDEDOR 2</option>
                        </select>
                    </div> <!--icones  -->
                    <div class="direction-column">
                        <p>NF Gaucha</p>
                        <div class="hl">
                            <label for="participa">Participa</label>
                            <input type="checkbox" id="paticipa">

                        </div>
                    </div>

                    <div class="direction-column">
                        <p>Consumidor</p>
                        <div class="hl">
                            <label for="sim">sim</label>
                            <input type="checkbox" id="sim">

                        </div>
                    </div>

                    <div class="direction-column">
                        <div>
                            <p>Numero Venda</p>
                        </div>
                        <input type="text">
                    </div>

                    <div class="direction-column">
                        <p>Total Bruto</p>
                        <input type="text">
                    </div>

                    <div class="direction-column">
                        <p>Sub Total</p>
                        <input type="text">
                    </div>

                    <div class="direction-column">
                        <p>Saldo</p>
                        <input type="text">
                    </div>
                </div>

                <section class="serie">
                    <legend>Serie</legend>
                    <section class="serie-info">
                        <div class="grid"> <label for="">Serie</label>
                            <select name="" id="">
                                <option value="">PADRAO-NFCE</option>
                            </select> <label for="">Evento</label>
                            <select name="" id="">
                                <option value="">Venda</option>
                            </select>
                        </div>
                    </section>
                </section>

                <section class="desconto">
                    <legend>Desconto</legend>
                    <div class="grid1">
                        <div class="des">
                            <input type="checkbox" id="zerar">
                            <label for="zerar">Zerar Desconto</label>
                        </div>

                        <div class="des">
                            <label for="">Valor: </label>
                            <input type="text">
                        </div>

                        <div class="des">
                            <label for="">Percentual: </label>
                            <input type="text">
                        </div>

                        <div class="des">
                            <input type="checkbox" id="nfe">
                            <label for="nfe">NFe(Destacar)</label>
                        </div>
                    </div>
                </section>

                <section class="formaPagamento">
                    <legend>Forma Pagamento</legend>
                    <section class="formaPagamento-info">

                        <div class="grid"> <label for="">Aut. Venda</label>
                            <input type="text"> <label for="">Forma: </label>
                            <select name="" id="">
                                <option value="">SELECIONE ALGUM</option>
                            </select> <label for="">Vencimento: </label>
                            <select name="" id="">
                                <option value="">SELECIONE ALGUM</option>
                            </select>
                        </div>
                    </section>



                </section>

                <section class="multiForma">
                    <legend>Multi Forma</legend>
                    <div class="direction-column">
                        <div class="flex">
                            <input type="text">
                            <button type="submit">Adicionar</button>
                        </div>
                    </div>

                    <div class="direction-column2">
                        <div class="col">
                            <p>Forma</p>
                            <p>Vencimento</p>
                            <p>Valor</p>
                        </div>
                    </div>
                </section>

                <section class="frete">
                    <legend>Frete</legend>
                    <div class="frete-info">
                        <p>Transportadora:</p>
                        <select name="transportadora" id="transportadora">
                            <option value="valo1"></option>
                            <option value="valo1"></option>
                            <option value="valo1"></option>
                        </select>


                        <p>Tipo frete:</p>
                        <select name="frete" id="frete">
                            <option value="valo1"></option>
                            <option value="valo1"></option>
                            <option value="valo1"></option>
                        </select>
                    </div>

                </section>

                <section class="adicionais">

                    <div class="adicionais-titulo">
                        <legend>Adicionais</legend>
                    </div>

                    <div class="adicionais-info">

                        <div>
                            <p>Frete:</p>
                            <input type="text">
                        </div>

                        <div>
                            <p>Despesas:</p>
                            <input type="text">
                        </div>

                        <div>
                            <p>Rastreio:</p>
                            <input type="text">
                        </div>
                    </div>
                </section>

                <section class="obs">
                    <div class="obs-titulo">
                        <legend>Obs</legend>
                    </div>

                    <div class="caixas">
                        <div class="colunaInput">
                            <p>Carimbo:</p>
                            <select name="carimbo" id="carimbo">
                                <option value="value1"></option>
                                <option value="value1"></option>
                                <option value="value1"></option>
                            </select>

                            <select name="carimbo" id="carimbo">
                                <option value="value1"></option>
                                <option value="value1"></option>
                                <option value="value1"></option>
                            </select>
                        </div>

                        <div>
                            <p>Separação:</p>
                            <textarea id="story" name="story" rows="5" cols="25"></textarea>
                        </div>

                        <div>
                            <p>NFE:</p>
                            <textarea id="story" name="story" rows="5" cols="25"></textarea>
                        </div>

                        <div>
                            <p>Pedido:</p>
                            <textarea id="story" name="story" rows="5" cols="25"></textarea>
                        </div>
                    </div>

                </section>

            </div>
        </div>
    </div>


    <script>

        function abrirModal() {
            var modal = document.getElementById("modal")
            modal.style.display = "block"
        }

        function fecharModal() {
            var modal = document.getElementById("modal")
            modal.style.display = "none"
        }

        var janela = document.getElementById("modal")
        window.addEventListener("click", function (event) {
            if (event.target == janela) {
                janela.style.display = "none"
            }
        })
    </script>


    <div id="modalVende" class="modalVende">
        <div class="modal-content-vende">

            <div class="g-vende">
                <span class="fechar-vende" onclick="fecharModalVende()">&times;</span>
                <label for="produto">Produto</label>
                <input type="text" id="produtoVende" placeholder="Produto">
                
            </div>


            <div class="g-vende">
                <label for="valor">Valor </label>
                <input type="text" id="valorVende" class="valorVende" placeholder="Valor">
            </div>

            <div class="bo">
                <button onclick="mostrarListaVende()" id="resultVende">Adicionar pedido</button>
                <button onclick="excluirPedidoVende()" id="excluirPedidoVende" class="excluirPedido">Excluir pedido</button>
            </div>


            <div class="bl">
                <input type="text" id="desconto" class="inputDesconto" placeholder="Porcentagem desconto">
                <button onclick="calcularDesconto()" id="descontoPorcentagem">Desconto</button>
            </div>



            <div class="bot">
                <span onclick="valorTotalVende()" type="text" id="somaVende" class="soma"></span>
                <span onclick="valorTotalVendeDesconto()" type="text" id="somaVendeDesconto"></span>
            </div>

            <table id="minhaListaVende">
                <tr>
                    <th>Produto</th>
                    <th>Valor</th>
                </tr>
            </table>
        </div>
    </div>

    <script>

        function abrirModalVende() {
            var modalVende = document.getElementById("modalVende")
            modalVende.style.display = "block"
        }

        function fecharModalVende() {
            var modalVende = document.getElementById("modalVende")
            modalVende.style.display = "none"
        }

        var janela = document.getElementById("modal-vende")
        window.addEventListener("click", function (event) {
            if (event.target == janela) {
                janela.style.display = "none"
            }
        })

        function valorVende() {

            var valorVende = document.getElementById("valorVende").value
            var resultadoVende = document.getElementById("resulVende")
            resultadoVende.value = valorVende.toString()

            if (valorVende == "") {
                alert("o valor está vazio, por favor insira um valor.")
            }
        }

        function valorTotalVende() {
            var tabela = document.getElementById("minhaListaVende");
            var linhas = tabela.rows;
            var somaTotal = 0;
            var soma = document.getElementById("somaVende");

            for (var i = 1; i < linhas.length; i++) {
                var valorItem = parseFloat(linhas[i].cells[1].textContent)
                somaTotal += valorItem;
            }
            soma.textContent = somaTotal;
        }

        function mostrarListaVende() {

            var produtoVende = document.getElementById("produtoVende").value;
            var valorVende = document.getElementById("valorVende").value;

            var minhaLista = document.getElementById("minhaListaVende");

            if (/[^0-9]/g.test(valorVende)) {
                alert("Coloque apenas números!");
            } else {
                var row = minhaLista.insertRow(-1);

                var cellProduto = row.insertCell(0);
                cellProduto.innerHTML = produtoVende;

                var cellValor = row.insertCell(1);
                cellValor.innerHTML = valorVende;

                valorTotalVende();
                produtoInputVende.value = produtoVende
                valorInputVende.value = valorVende
            }
        }

        document.addEventListener("DOMContentLoaded", function () {
            valorTotalVende();
        });


        function produtoInputVende() {
            var produtoInputVende = document.getElementById("produtoInputVende");
            var produtoVende = document.getElementById("produtoVende").value;

            produtoInputVende.value = produtoVende;
            var resultButtonVende = document.getElementById("resultVende");
            resultButtonVende.addEventListener("click", produtoInputVende);
        }

        function valorInputVende() {
            var valorInputVende = document.getElementById("valorInputVende");
            var valorVende = document.getElementById("valorVende").value;

            valorInputVende.value = valorVende;
            var resultButtonVende = document.getElementById("resultVende");
            resultButtonVende.addEventListener("click", valorInputVende,);

        }

        function excluirPedidoVende() {
            var excluirPedidoButtonVende = document.getElementById("excluirPedidoVende");
            excluirPedidoButtonVende.addEventListener("click", function () {
                var minhaListaVende = document.getElementById("minhaListaVende");
                while (minhaListaVende.firstChild) {
                    minhaListaVende.removeChild(minhaListaVende.firstChild);
                }
                valorTotalVende();
            });
        }


        function calcularDesconto() {
            var valorTotal = parseFloat(document.getElementById('somaVende').textContent);
            var desconto = parseFloat(document.getElementById('desconto').value);
            var buttonDesconto = document.getElementById("descontoPorcentagem")

            var descontoCalculado = valorTotal * (desconto / 100);
            var novoValorTotal = valorTotal - descontoCalculado;

            document.getElementById('somaVendeDesconto').textContent = novoValorTotal;
        }


    </script>


    <section id="pesquisa" class="pesquisa-home">
        <header class="principal">
            <div class="div-logo">
                <img class="imgLogo" src="./img/iconeAlfaCorreto.png" alt="">
            </div>

            <div class="divL">
                <input class="bu" type="text" id="textBusca" placeholder="Buscar...">
                <i class="fas fa-search" style="color: #deddda;"></i>
            </div>

            <div class="head">

                <ul class="lista">
                    <li><a href="#">INTRANET</a></li>
                    <li><a href="#">CADASTRO</a></li>
                    <li><a href="#">COMPRAS</a></li>
                    <li><a href="#">ESTOQUE</a></li>
                    <li><a href="#">VENDAS</a></li>
                    <li><a href="#">FATURAMENTO</a></li>
                    <li><a href="#">FINANÇAS</a></li>
                    <li><a href="#">RH</a></li>
                    <li><a href="#">FISCAL</a></li>
                    <li><a href="#">CONTRATO</a></li>
                    <li><a href="#">CRM</a></li>
                    <li><a href="#">BI</a></li>
                    <li><a href="#">REVISÃO</a></li>
                    <li><a href="#">EPM</a></li>
                    <li><a href="#">MANUFATURA</a></li>
                    <li><a href="#">CONTÁBIL</a></li>
                    <li><a href="#">AJUDA</a></li>
                </ul>
            </div>
        </header>
    </section>


    <section id="usuario-item-pesquisa" class="usuario-item-pesquisa">

        <div class="buscar-user">

            <div class="nome">
                <p>Venda</p>
                <i class="fas fa-star" style="color: #9a9996;"></i>
            </div>

            <div class="nome-espaco">
                <p>Número:</p>
                <input type="text">
            </div>

            <div class="nome-espaco">
                <p>Emissão:</p>
                <input type="text">
            </div>

            <div class="nome-espaco">
                <p>Vendedor:</p>
                <select name="vendedores" id="vendedor">
                    <option value="vendedor"></option>
                    <option value="vendedor"></option>
                    <option value="vendedor"></option>
                </select>
            </div>

            <div class="nome-espaco">
                <p>cliente:</p>
                <input type="text">
            </div>

            <div class="nome-espaco-i">
                <i class="fas fa-search" style="color: #1c71d8;"></i>
            </div>



            <div class="nome-espaco">
                <p>Evento:</p>
                <select name="evento" id="evento">
                    <option value="evento"></option>
                    <option value="evento"></option>
                    <option value="evento"></option>
                </select>
            </div>

            <div class="nome-espaco">
                <p>Serie:</p>
                <select name="serie" id="serie">
                    <option value="serie"></option>
                    <option value="serie"></option>
                    <option value="serie"></option>
                </select>
            </div>

            <div class="chek">
                <div class="la">
                    <div class="teste"><input type="checkbox">
                        <label for="orcamento">Orçamento</label>
                    </div>

                    <div class="teste">
                        <input type="checkbox">
                        <label for="pedido">Pedido B2B</label>
                    </div>

                    <div class="teste">
                        <input type="checkbox">
                        <label for="pedidoEnviado">Pedido B2B enviado</label>
                    </div>

                    <div class="teste">
                        <input type="checkbox">
                        <label for="vendaRepresentante">Venda representante</label>
                    </div>
                </div>
            </div>
            <div class="sbt">
                <i class="far fa-paper-plane" style="color: #3584e4;"></i>
                <button class="submitBtn">Buscar</button>
                <i class="fas fa-eraser" style="color: #241f31;"></i>
            </div>
        </div>
    </section>

    <section class="vendedor-cliente">
        <div class="vende">
            <div class="vl">
                <h3>Vendedor:</h3>
                <input type="text">
            </div>

            <div class="vl">
                <h3>Cliente:</h3>
                <input type="text">

            </div>

            <div class="vl">
                <h3>.</h3>
                <input type="text">
            </div>

            <div class="vl">
                <h3>Ficha:</h3>
                <input class="exclusivoB" type="text">
            </div>

            <div class="vl">
                <h3>.</h3>
                <button onclick="abrirModal()" class="submitVendedor-cliente" type="submit">Venda</button>
            </div>
        </div>
    </section>

    <section class="pedidos-abertos">
        <h3>(+) Pedidos em aberto</h3>

        <div class="g">


            <button onclick="abrirModalVende()" type="submit">Cadastrar produoto</button>



    </section>

    <section class="busca-item">
        <H3>Buscar item</H3>
        <div class="buscaItem-linhaAcima">
            <div class="vk">
                <p>Tipo:</p>
                <input type="text">
            </div>

            <div class="vk">
                <p>Código/GTIN:</p>
                <input type="text">
            </div>

            <div class="vk">
                <p>SUb descrição:</p>
                <input type="text">
            </div>

            <div class="vk">
                <p>Aplicação:</p>
                <input type="text">
            </div>

            <div class="vk">
                <p>Código fabricante:</p>
                <input type="text">
            </div>

            <div class="vk">
                <p>Marca:</p>
                <input type="text">
            </div>

            <div class="vk">
                <p>Busca unificada:</p>
                <input type="text">
            </div>

            <div class="vk">
                <p>Conversão:</p>
                <input type="text">
            </div>

            <div class="vk">
                <p>Referência:</p>
                <input type="text">
            </div>

            <div class="vk">
                <p>Especificação técnica:</p>
                <input type="text">
            </div>


            <div class="vk">
                <p>Ano:</p>
                <input class="anoInput" type="text">
            </div>
        </div>

        <div>
            <div class="va">
                <p>Extremidade:</p>
                <select name="extremidade" id="extremidade">
                    <option value="extremidade">NENHUM</option>
                </select>
            </div>

            <div class="va">
                <p>Uso:</p>
                <select name="uso" id="uso">
                    <option value="uso">NENHUM</option>
                </select>
            </div>
        </div>


        <div>
            <div class="c">
                <input type="checkbox">
                <p>Sem similar</p>
            </div>

            <div class="c">
                <input type="checkbox">
                <p>Item saldo zerado</p>
            </div>
        </div>

        <div class="botoes">
            <button class="btnBuscar" type="submit">Buscar</button>
            <button class="btnLimpar" type="submit">Limpar</button>
            <button class="btnBuscarGoogle" type="submit">Buscar google</button>
        </div>
    </section>


</body>

</html>